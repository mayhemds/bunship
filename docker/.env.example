# ============================================
# BunShip Docker Environment Configuration
# Copy to project root as .env
# ============================================

# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# ============================================
# DATABASE (Turso / LibSQL)
# ============================================
# For local development with SQLite
DATABASE_URL=file:/app/data/local.db

# For Turso production
# DATABASE_URL=libsql://your-database.turso.io
# DATABASE_AUTH_TOKEN=your-turso-auth-token

# ============================================
# REDIS
# ============================================
# Docker service name (automatic DNS)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# Production with password
# REDIS_PASSWORD=your-secure-redis-password
# REDIS_URL=redis://:your-secure-redis-password@redis:6379

# ============================================
# JWT SECRETS
# ============================================
# IMPORTANT: Generate secure secrets for production
# Use: openssl rand -base64 32
JWT_SECRET=dev-jwt-secret-min-32-chars-change-in-production-use-openssl-rand
JWT_REFRESH_SECRET=dev-refresh-secret-min-32-chars-change-in-production-use-openssl

# Token expiration
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ============================================
# STRIPE
# ============================================
STRIPE_SECRET_KEY=sk_test_51xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx
STRIPE_PRO_MONTHLY_PRICE_ID=price_xxxxx
STRIPE_PRO_YEARLY_PRICE_ID=price_xxxxx
STRIPE_ENTERPRISE_MONTHLY_PRICE_ID=price_xxxxx
STRIPE_ENTERPRISE_YEARLY_PRICE_ID=price_xxxxx

# ============================================
# EMAIL (Resend)
# ============================================
RESEND_API_KEY=re_xxxxx
EMAIL_FROM="BunShip <noreply@bunship.com>"

# ============================================
# FILE STORAGE (S3 Compatible)
# ============================================
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET=bunship-uploads
S3_ACCESS_KEY_ID=AKIAXXXXX
S3_SECRET_ACCESS_KEY=xxxxx
S3_REGION=us-east-1
S3_PUBLIC_URL=https://bunship-uploads.s3.amazonaws.com

# For MinIO (local S3)
# S3_ENDPOINT=http://minio:9000
# S3_ACCESS_KEY_ID=minioadmin
# S3_SECRET_ACCESS_KEY=minioadmin

# ============================================
# OAUTH (Optional)
# ============================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:3000/auth/github/callback

# ============================================
# TWO-FACTOR AUTHENTICATION
# ============================================
TOTP_ISSUER=BunShip
TOTP_WINDOW=1

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# ============================================
# CORS
# ============================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
# Options: error, warn, info, debug, trace

# ============================================
# MONITORING
# ============================================
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
# SENTRY_ENVIRONMENT=development

# ============================================
# DEMO MODE
# ============================================
DEMO_MODE=false
CRON_SECRET=your-cron-secret-for-triggering-jobs

# ============================================
# WORKER / QUEUE
# ============================================
QUEUE_NAME=bunship-jobs
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3

# ============================================
# DOCKER SPECIFIC
# ============================================
# Used in docker-compose.prod.yml
COMPOSE_PROJECT_NAME=bunship
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
